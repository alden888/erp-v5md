<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ˜æ—¶æŒ‡æŒ¥å° V14.2 PRO ERP EDITION Â· B2B ä¸“ç”¨</title>

<!-- é¢„åŠ è½½å…³é”®èµ„æº -->
<link rel="preconnect" href="https://cdn.tailwindcss.com">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="preconnect" href="https://www.gstatic.com">

<!-- å¤–éƒ¨æ ·å¼ -->
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

<!-- Tailwind é…ç½® -->
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#ef4444',
secondary: '#3b82f6',
accent: '#8b5cf6',
success: '#10b981',
warning: '#f59e0b',
info: '#06b6d4',
dark: '#1f2937',
darker: '#111827',
darkest: '#030712'
}
}
}
}
</script>

<!-- å†…è”å…³é”® CSS -->
<style>
html { scroll-behavior: smooth; }
body {
font-family: 'Inter', system-ui, sans-serif;
background-color: #030712;
background-image:
radial-gradient(circle at 10% 20%, rgba(31, 41, 55, 0.1) 0%, transparent 20%),
radial-gradient(circle at 90% 80%, rgba(31, 41, 55, 0.1) 0%, transparent 20%);
background-attachment: fixed;
}

/* åŠ è½½åŠ¨ç”» */
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.loading-spinner {
border: 3px solid rgba(255, 255, 255, 0.1);
border-radius: 50%;
border-top: 3px solid #ef4444;
width: 50px;
height: 50px;
animation: spin 0.8s linear infinite;
display: inline-block;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }

.tab-content { display: none; }
.tab-content.active { display: block; }
</style>

<!-- ğŸ”¥ ä¿®å¤ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½æœ¬åœ° CSS -->
<link rel="stylesheet" href="/workbench/css/workbench-v14.css">

<!-- ğŸ”¥ åŠ¨æ€è·å–åŸºç¡€è·¯å¾„çš„è„šæœ¬ -->
<script>
// è‡ªåŠ¨æ£€æµ‹åŸºç¡€è·¯å¾„
(function() {
    var scripts = document.getElementsByTagName('script');
    var currentScript = scripts[scripts.length - 1];
    var path = window.location.pathname;
    
    // æ£€æµ‹æ˜¯å¦åœ¨ /workbench/ å­ç›®å½•
    if (path.includes('/workbench')) {
        window.WORKBENCH_BASE = '/workbench';
    } else {
        window.WORKBENCH_BASE = '';
    }
    console.log('[Init] Base path:', window.WORKBENCH_BASE);
})();
</script>
</head>
<body class="min-h-screen text-white bg-darkest">

<!-- ğŸ”¥ ç³»ç»ŸåŠ è½½æŒ‡ç¤ºå™¨ -->
<div id="system-loading" class="fixed inset-0 z-50 bg-black/95 flex items-center justify-center">
<div class="text-center max-w-md px-6">
<div class="loading-spinner mx-auto mb-6"></div>
<h2 class="text-2xl font-bold text-red-500 mb-3">ç³»ç»Ÿåˆå§‹åŒ–ä¸­</h2>
<p class="text-gray-400 mb-4">æ­£åœ¨åŠ è½½æ ¸å¿ƒæ¨¡å—...</p>
<div id="loading-progress" class="text-sm text-gray-500 mb-3">å‡†å¤‡åŠ è½½...</div>
<div id="loading-module" class="text-xs text-gray-600 mb-2"></div>
<div id="loading-error" class="hidden mt-6 p-4 bg-red-900/50 border border-red-500 rounded text-red-200 text-sm text-left max-h-60 overflow-y-auto"></div>
</div>
</div>

<!-- ğŸ”¥ é“å¹•ç™»å½•ç•Œé¢ -->
<section id="iron-curtain" class="fixed inset-0 z-50 bg-black flex items-center justify-center p-4 hidden">
<div class="max-w-2xl w-full animate-fade-in">
<div class="bg-gradient-to-br from-darker to-darkest border border-red-900/50 rounded-2xl p-8 shadow-2xl">
<div class="text-center mb-8">
<div class="text-6xl mb-4 animate-pulse-slow">âš”ï¸</div>
<h1 class="text-3xl font-black text-red-500 mb-2">SURVIVAL MODE</h1>
<p class="text-gray-400 text-lg">é“å¹•ç™»å½•ç³»ç»Ÿ - ä»Šæ—¥æˆ˜æ–—å®£è¨€</p>
</div>

<form class="space-y-6" onsubmit="app.survival.startBattle(); return false;">
<fieldset class="space-y-4">
<legend class="text-sm font-bold text-red-400 uppercase tracking-wider mb-2">
<i class="fas fa-fire mr-2"></i>ä»Šæ—¥ä¸‰ä»¶äº‹
</legend>

<div class="space-y-2">
<label for="action-1" class="block text-sm font-medium text-gray-300">
<span class="text-red-500">1.</span> æœ€é‡è¦çš„äº‹
</label>
<input type="text" id="action-1" required
class="w-full px-4 py-3 bg-black border border-gray-800 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent transition-all"
placeholder="ä»Šå¤©å¿…é¡»å®Œæˆçš„ç¬¬ä¸€ä»¶äº‹"
oninput="app.survival.checkInputs()">
</div>

<div class="space-y-2">
<label for="action-2" class="block text-sm font-medium text-gray-300">
<span class="text-red-500">2.</span> æ¬¡è¦ä»»åŠ¡
</label>
<input type="text" id="action-2" required
class="w-full px-4 py-3 bg-black border border-gray-800 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent transition-all"
placeholder="ä»Šå¤©éœ€è¦æ¨è¿›çš„ç¬¬äºŒä»¶äº‹"
oninput="app.survival.checkInputs()">
</div>

<div class="space-y-2">
<label for="action-3" class="block text-sm font-medium text-gray-300">
<span class="text-red-500">3.</span> æ—¥å¸¸ç»´æŠ¤
</label>
<input type="text" id="action-3" required
class="w-full px-4 py-3 bg-black border border-gray-800 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent transition-all"
placeholder="ä»Šå¤©éœ€è¦ç»´æŠ¤çš„ç¬¬ä¸‰ä»¶äº‹"
oninput="app.survival.checkInputs()">
</div>
</fieldset>

<button type="submit" id="battle-start-btn" disabled
class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
<i class="fas fa-bolt"></i>
<span>å¼€å§‹æˆ˜æ–—</span>
</button>
</form>

<div class="text-center mt-6">
<button onclick="app.survival.emergencyOverride()"
class="text-xs text-gray-500 hover:text-gray-300 transition-colors">
<i class="fas fa-exclamation-triangle mr-1 text-yellow-500"></i>
10åˆ†é’Ÿç´§æ€¥è¿›å…¥
</button>
</div>
</div>
</div>
</section>

<!-- ğŸ”¥ ç´§æ€¥æ¨¡å¼è­¦å‘Š -->
<div id="emergency-mode-warning" class="fixed top-0 left-0 right-0 bg-red-900/90 text-white py-2 text-center text-sm font-bold z-50 hidden">
âš ï¸ ç´§æ€¥æ¨¡å¼å·²æ¿€æ´» (å‰©ä½™ <span id="emergency-timer">10</span> åˆ†é’Ÿ)
</div>

<!-- ğŸ”¥ ä¸»åº”ç”¨ç•Œé¢ -->
<main class="min-h-screen">
<!-- é¡¶éƒ¨å¯¼èˆªæ  -->
<header class="sticky top-0 z-40 bg-dark/80 backdrop-blur-md border-b border-gray-800">
<div class="container mx-auto px-4">
<div class="flex items-center justify-between h-16">
<div class="flex items-center gap-3">
<div class="text-2xl">âš”ï¸</div>
<div>
<h1 class="text-lg font-bold text-red-500">æˆ˜æ—¶æŒ‡æŒ¥å° V14.2 PRO</h1>
<p class="text-xs text-gray-500">B2B ä¸“ç”¨ Â· ç°é‡‘ä¸ºç‹ Â· äº‘ç«¯åŒæ­¥</p>
</div>
</div>

<nav class="hidden md:flex items-center gap-6">
<button onclick="app.switchTab('dashboard')" class="nav-tab text-gray-300 hover:text-white transition-colors flex items-center gap-2">
<i class="fas fa-tachometer-alt"></i><span>ä»ªè¡¨ç›˜</span>
</button>
<button onclick="app.switchTab('kanban')" class="nav-tab text-gray-300 hover:text-white transition-colors flex items-center gap-2">
<i class="fas fa-tasks"></i><span>è®¢å•æˆ˜åœº</span>
</button>
<button onclick="app.switchTab('crm')" class="nav-tab text-gray-300 hover:text-white transition-colors flex items-center gap-2">
<i class="fas fa-users"></i><span>å®¢æˆ·æ¡£æ¡ˆ</span>
</button>
<button onclick="app.switchTab('suppliers')" class="nav-tab text-gray-300 hover:text-white transition-colors flex items-center gap-2">
<i class="fas fa-industry"></i><span>ä¾›åº”å•†</span>
</button>
<button onclick="app.switchTab('expenses')" class="nav-tab text-gray-300 hover:text-white transition-colors flex items-center gap-2">
<i class="fas fa-money-bill-wave"></i><span>è¿è¥æ”¯å‡º</span>
</button>
</nav>

<div class="flex items-center gap-3">
<div id="sync-status" class="flex items-center gap-2 px-3 py-1 bg-gray-800 rounded-full text-xs">
<i class="fas fa-cloud text-gray-400"></i>
<span class="text-gray-400">ç¦»çº¿</span>
</div>
<button onclick="app.openSettings()" class="p-2 rounded-full hover:bg-gray-800 transition-colors">
<i class="fas fa-cog text-gray-400 hover:text-white"></i>
</button>
<button onclick="app.logout()" class="p-2 rounded-full hover:bg-gray-800 transition-colors">
<i class="fas fa-sign-out-alt text-gray-400 hover:text-white"></i>
</button>
</div>
</div>
</div>
</header>

<!-- ä»Šæ—¥ä¸‰ä»¶äº‹ Banner -->
<div id="today-actions-banner" class="bg-gradient-to-r from-red-900 to-red-800 py-4 px-6 border-b border-red-700/50 hidden">
<div class="container mx-auto">
<div class="flex items-center justify-between">
<h3 class="text-white font-bold flex items-center gap-2">
<i class="fas fa-fire text-yellow-400"></i>ä»Šæ—¥ä¸‰ä»¶äº‹
</h3>
<button onclick="app.clearTodayActions()" class="text-xs text-red-200 hover:text-white transition-colors">
<i class="fas fa-redo-alt mr-1"></i>é‡æ–°è®¾ç½®
</button>
</div>
<div id="today-actions-list" class="mt-2 space-y-1"></div>
</div>
</div>

<!-- æ ‡ç­¾é¡µå†…å®¹åŒºåŸŸ -->
<div class="container mx-auto px-4 py-6">
<!-- ä»ªè¡¨ç›˜ -->
<div id="tab-dashboard" class="tab-content active">
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
<div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 shadow-lg">
<div class="flex items-center justify-between mb-2">
<h3 class="text-white/80 text-sm font-medium">æ€»è®¢å•æ•°</h3>
<i class="fas fa-shopping-cart text-white/60 text-2xl"></i>
</div>
<p id="dashboard-total-orders" class="text-3xl font-bold text-white">0</p>
<p class="text-white/70 text-xs mt-1">æ´»è·ƒè®¢å•</p>
</div>

<div class="bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 shadow-lg">
<div class="flex items-center justify-between mb-2">
<h3 class="text-white/80 text-sm font-medium">æ€»æ”¶å…¥</h3>
<i class="fas fa-dollar-sign text-white/60 text-2xl"></i>
</div>
<p id="dashboard-total-income" class="text-3xl font-bold text-white">Â¥0</p>
<p class="text-white/70 text-xs mt-1">ç´¯è®¡æ”¶å…¥</p>
</div>

<div class="bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-6 shadow-lg">
<div class="flex items-center justify-between mb-2">
<h3 class="text-white/80 text-sm font-medium">æœ¬æœˆæ”¶å…¥</h3>
<i class="fas fa-chart-line text-white/60 text-2xl"></i>
</div>
<p id="dashboard-month-income" class="text-3xl font-bold text-white">Â¥0</p>
<p class="text-white/70 text-xs mt-1">å½“æœˆç»Ÿè®¡</p>
</div>

<div class="bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl p-6 shadow-lg">
<div class="flex items-center justify-between mb-2">
<h3 class="text-white/80 text-sm font-medium">ä¾›åº”å•†æ•°</h3>
<i class="fas fa-truck text-white/60 text-2xl"></i>
</div>
<p id="dashboard-total-suppliers" class="text-3xl font-bold text-white">0</p>
<p class="text-white/70 text-xs mt-1">åˆä½œä¼™ä¼´</p>
</div>
</div>

<!-- å®æ—¶æ—¶é’Ÿ -->
<div class="bg-gray-900 rounded-xl p-6 mb-6">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
<div class="text-center">
<p class="text-gray-400 text-sm mb-1">å½“å‰æ—¶é—´</p>
<p id="current-time" class="text-2xl font-bold text-white">--:--:--</p>
</div>
<div class="text-center">
<p class="text-gray-400 text-sm mb-1">ç³»ç»ŸçŠ¶æ€</p>
<p class="text-green-500 font-bold">â— è¿è¡Œä¸­</p>
</div>
<div class="text-center">
<p class="text-gray-400 text-sm mb-1">äº‘ç«¯åŒæ­¥</p>
<p id="last-sync" class="text-gray-300">æœªè¿æ¥</p>
</div>
</div>
</div>

<!-- å¿«é€Ÿæ“ä½œ -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<button onclick="app.kanban.openQuickAdd()"
class="bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 p-6 rounded-xl transition-all text-left group">
<div class="flex items-center justify-between mb-2">
<i class="fas fa-plus-circle text-3xl text-white/80 group-hover:scale-110 transition-transform"></i>
<i class="fas fa-arrow-right text-white/50 group-hover:translate-x-1 transition-transform"></i>
</div>
<h3 class="text-white font-bold text-lg">æ–°å¢è®¢å•</h3>
<p class="text-white/70 text-sm mt-1">å¿«é€Ÿåˆ›å»ºæ–°è®¢å•</p>
</button>

<button onclick="app.crm.openCustomerModal()"
class="bg-gradient-to-br from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 p-6 rounded-xl transition-all text-left group">
<div class="flex items-center justify-between mb-2">
<i class="fas fa-user-plus text-3xl text-white/80 group-hover:scale-110 transition-transform"></i>
<i class="fas fa-arrow-right text-white/50 group-hover:translate-x-1 transition-transform"></i>
</div>
<h3 class="text-white font-bold text-lg">æ–°å¢å®¢æˆ·</h3>
<p class="text-white/70 text-sm mt-1">æ·»åŠ å®¢æˆ·ä¿¡æ¯</p>
</button>

<button onclick="app.expenses.openAddModal()"
class="bg-gradient-to-br from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 p-6 rounded-xl transition-all text-left group">
<div class="flex items-center justify-between mb-2">
<i class="fas fa-receipt text-3xl text-white/80 group-hover:scale-110 transition-transform"></i>
<i class="fas fa-arrow-right text-white/50 group-hover:translate-x-1 transition-transform"></i>
</div>
<h3 class="text-white font-bold text-lg">è®°å½•æ”¯å‡º</h3>
<p class="text-white/70 text-sm mt-1">æ·»åŠ è¿è¥è´¹ç”¨</p>
</button>
</div>
</div>

<!-- è®¢å•æˆ˜åœº -->
<div id="tab-kanban" class="tab-content">
<div class="mb-6 flex items-center justify-between">
<h2 class="text-2xl font-bold text-white">è®¢å•æˆ˜åœº</h2>
<button onclick="app.kanban.openQuickAdd()"
class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
<i class="fas fa-plus"></i><span>å¿«é€Ÿæ–°å¢</span>
</button>
</div>
<div id="kanban-board" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"></div>
</div>

<!-- å®¢æˆ·æ¡£æ¡ˆ -->
<div id="tab-crm" class="tab-content">
<div class="mb-6 flex items-center justify-between">
<h2 class="text-2xl font-bold text-white">å®¢æˆ·æ¡£æ¡ˆ</h2>
<button onclick="app.crm.openCustomerModal()"
class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
<i class="fas fa-user-plus"></i><span>æ–°å¢å®¢æˆ·</span>
</button>
</div>
<div id="crm-customers" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<div class="col-span-full text-center py-12 text-gray-500">
<i class="fas fa-users text-4xl mb-4 opacity-50"></i>
<p>æš‚æ— å®¢æˆ·æ•°æ®</p>
</div>
</div>
</div>

<!-- ä¾›åº”å•† -->
<div id="tab-suppliers" class="tab-content">
<div class="mb-6 flex items-center justify-between">
<h2 class="text-2xl font-bold text-white">ä¾›åº”å•†ç®¡ç†</h2>
<button onclick="app.suppliers.openAddModal()"
class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
<i class="fas fa-industry"></i><span>æ–°å¢ä¾›åº”å•†</span>
</button>
</div>
<div id="suppliers-list" class="space-y-4">
<div class="text-center py-12 text-gray-500">
<i class="fas fa-industry text-4xl mb-4 opacity-50"></i>
<p>æš‚æ— ä¾›åº”å•†æ•°æ®</p>
</div>
</div>
</div>

<!-- è¿è¥æ”¯å‡º -->
<div id="tab-expenses" class="tab-content">
<div class="mb-6 flex items-center justify-between">
<h2 class="text-2xl font-bold text-white">è¿è¥æ”¯å‡º</h2>
<button onclick="app.expenses.openAddModal()"
class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
<i class="fas fa-plus"></i><span>è®°å½•æ”¯å‡º</span>
</button>
</div>
<div id="expenses-list" class="space-y-4">
<div class="text-center py-12 text-gray-500">
<i class="fas fa-receipt text-4xl mb-4 opacity-50"></i>
<p>æš‚æ— æ”¯å‡ºè®°å½•</p>
</div>
</div>
</div>
</div>
</main>

<!-- ğŸ”¥ æ¨¡å—éªŒè¯å‡½æ•° -->
<script>
// å…¨å±€æ¨¡å—åŠ è½½æ£€æŸ¥å‡½æ•°
window.checkModulesLoaded = function() {
    var requiredModules = [
        'WorkbenchConfig',
        'WorkbenchUtils', 
        'WorkbenchModal',
        'WorkbenchState',
        'WorkbenchStorage'
    ];
    
    var allLoaded = true;
    requiredModules.forEach(function(mod) {
        if (typeof window[mod] === 'undefined') {
            console.error('[Loader] ç¼ºå¤±æ¨¡å—:', mod);
            allLoaded = false;
        }
    });
    
    return allLoaded;
};
</script>

<!-- ğŸ”¥ æ ¸å¿ƒæ¨¡å—åŠ è½½ - ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆå…³é”®ä¿®å¤ï¼ï¼‰-->
<script src="/workbench/js/workbench-config.js"></script>
<script src="/workbench/js/workbench-utils.js"></script>
<script src="/workbench/js/workbench-modal.js"></script>
<script src="/workbench/js/workbench-state.js"></script>
<script src="/workbench/js/workbench-storage.js"></script>
<script src="/workbench/js/workbench-auth.js"></script>

<!-- Firebase SDK (å¯é€‰) -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
<script src="/workbench/js/workbench-firebase.js"></script>

<!-- ä¸šåŠ¡æ¨¡å— -->
<script src="/workbench/js/workbench-dashboard.js"></script>
<script src="/workbench/js/workbench-orders.js"></script>
<script src="/workbench/js/workbench-suppliers.js"></script>
<script src="/workbench/js/workbench-finance.js"></script>
<script src="/workbench/js/workbench-expenses.js"></script>
<script src="/workbench/js/workbench-crm.js"></script>

<!-- ğŸ”¥ ä¸»åº”ç”¨è„šæœ¬ï¼ˆå¿…é¡»æœ€ååŠ è½½ï¼‰ -->
<script src="/workbench/js/workbench-app.js"></script>

<!-- ğŸ”¥ æ¨¡å—åŠ è½½å®Œæˆå¤„ç† -->
<script>
document.addEventListener('DOMContentLoaded', async function() {
    console.log('[V14.2 PRO] DOMåŠ è½½å®Œæˆï¼Œç­‰å¾…æ¨¡å—åˆå§‹åŒ–...');

    // ç»™æ¨¡å—ä¸€ç‚¹æ—¶é—´å®ŒæˆåŠ è½½
    await new Promise(resolve => setTimeout(resolve, 500));

    // éªŒè¯æ‰€æœ‰å…³é”®æ¨¡å—
    var requiredModules = [
        'WorkbenchConfig',
        'WorkbenchUtils', 
        'WorkbenchModal',
        'WorkbenchState',
        'WorkbenchStorage',
        'WorkbenchAuth',
        'WorkbenchDashboard',
        'WorkbenchOrders',
        'WorkbenchSuppliers',
        'WorkbenchFinance',
        'WorkbenchExpenses',
        'WorkbenchCRM',
        'app'
    ];

    var missing = requiredModules.filter(function(m) {
        return typeof window[m] === 'undefined';
    });

    if (missing.length > 0) {
        console.error('[V14.2 PRO] âŒ ç¼ºå¤±æ¨¡å—:', missing);
        document.getElementById('loading-error').classList.remove('hidden');
        document.getElementById('loading-error').innerHTML = 
            '<strong>æ¨¡å—åŠ è½½å¤±è´¥</strong><br>' +
            'ç¼ºå¤±æ¨¡å—: ' + missing.join(', ') + '<br><br>' +
            '<strong>å¯èƒ½åŸå› ï¼š</strong><br>' +
            '1. JS æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®<br>' +
            '2. Cloudflare Pages é…ç½®é—®é¢˜<br>' +
            '3. ç½‘ç»œè¿æ¥é—®é¢˜<br><br>' +
            '<button onclick="location.reload()" class="mt-2 px-4 py-2 bg-red-600 rounded hover:bg-red-700">' +
            'é‡æ–°åŠ è½½</button> ' +
            '<a href="/workbench/diagnostic.html" class="mt-2 ml-2 px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 inline-block">' +
            'ç³»ç»Ÿè¯Šæ–­</a>';
    } else {
        console.log('[V14.2 PRO] âœ… æ‰€æœ‰æ¨¡å—åŠ è½½å®Œæˆ');
        console.log('[V14.2 PRO] å·²åŠ è½½:', requiredModules.length, 'ä¸ªæ¨¡å—');

        // éšè—åŠ è½½ç•Œé¢
        setTimeout(function() {
            var loadingEl = document.getElementById('system-loading');
            if (loadingEl) {
                loadingEl.style.opacity = '0';
                loadingEl.style.transition = 'opacity 0.3s ease';
                setTimeout(function() {
                    loadingEl.style.display = 'none';
                }, 300);
            }

            // å¯åŠ¨åº”ç”¨
            if (typeof app !== 'undefined' && app.init) {
                console.log('[V14.2 PRO] å¯åŠ¨åº”ç”¨...');
                app.init();
            }
        }, 300);
    }
});
</script>

</body>
</html>
